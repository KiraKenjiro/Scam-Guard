<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Data Collection</title>
		<style>
			body {
				font-family: "Arial", sans-serif;
				background-color: #333;
				color: #fff;
				margin: 0;
				display: flex;
				justify-content: center;
				align-items: center;
				height: 100vh;
			}

			#container {
				text-align: center;
				padding: 20px;
				border: 1px solid #555;
				background-color: #444;
				border-radius: 10px;
				box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
			}

			#title {
				font-size: 24px;
				font-weight: bold;
				margin-bottom: 20px;
			}

			#description {
				font-size: 16px;
				color: #888;
				margin-bottom: 30px;
			}

			#messageInput {
				width: 80%;
				padding: 10px;
				margin-bottom: 15px;
				border: 1px solid #555;
				border-radius: 5px;
				box-sizing: border-box;
				color: #fff;
				background-color: #333;
			}

			#buttonSection {
				display: flex;
				justify-content: space-between;
				margin-top: 20px;
			}

			#addDataBtn,
			#updateDataBtn,
			#deleteDataBtn,
			#sendDataBtn {
				flex: 1;
				padding: 10px;
				border: none;
				border-radius: 5px;
				cursor: pointer;
			}

			#addDataBtn {
				background-color: #3498db;
				color: #fff;
				margin-right: 5px;
			}

			#updateDataBtn {
				background-color: #4caf50;
				color: #fff;
				margin-right: 5px;
			}

			#deleteDataBtn {
				background-color: #e74c3c;
				color: #fff;
				margin-right: 5px;
			}

			#sendDataBtn {
				background-color: #9b59b6;
				color: #fff;
			}

			.messageContainer {
				display: flex;
				align-items: center;
				margin: 10px 0px 10px 0px;
			}

			.messageText {
				flex: 2;
				margin-right: 10px;
				text-align: left;
			}

			.editBtn,
			.deleteBtn {
				flex: 1;
				padding: 5px;
				border: none;
				border-radius: 3px;
				cursor: pointer;
			}

			.editBtn {
				background-color: #e67e22;
				color: #fff;
				margin-right: 5px;
			}

			.deleteBtn {
				background-color: #e74c3c;
				color: #fff;
			}

			@keyframes cube {
				from {
					transform: scale(0) rotate(0deg) translate(-50%, -50%);
					opacity: 1;
				}
				to {
					transform: scale(20) rotate(960deg) translate(-50%, -50%);
					opacity: 0;
				}
			}

			.background {
				position: fixed;
				width: 100vw;
				height: 100vh;
				top: 0;
				left: 0;
				margin: 0;
				padding: 0;
				background: #333333;
				overflow: hidden;
				z-index: -1;
			}
			.background li {
				position: absolute;
				top: 80vh;
				left: 45vw;
				width: 10px;
				height: 10px;
				border: solid 1px #2d2d2d;
				color: transparent;
				transform-origin: top left;
				transform: scale(0) rotate(0deg) translate(-50%, -50%);
				animation: cube 7s ease-in forwards infinite;
			}
			undefined .background li:nth-child(0) {
				animation-delay: 0s;
				left: 7vw;
				top: 27vh;
				border-color: #383838;
			}

			.background li:nth-child(1) {
				animation-delay: 2s;
				left: 80vw;
				top: 3vh;
			}

			.background li:nth-child(2) {
				animation-delay: 4s;
				left: 18vw;
				top: 88vh;
				border-color: #383838;
			}

			.background li:nth-child(3) {
				animation-delay: 6s;
				left: 43vw;
				top: 40vh;
			}

			.background li:nth-child(4) {
				animation-delay: 8s;
				left: 63vw;
				top: 71vh;
			}

			.background li:nth-child(5) {
				animation-delay: 10s;
				left: 86vw;
				top: 65vh;
			}

			#deleteAllBtn {
				flex: 1;
				padding: 10px;
				border: none;
				border-radius: 5px;
				cursor: pointer;
				background-color: #e74c3c;
				color: #fff;
				margin-right: 5px;
			}

			#deleteAllBtn:hover {
				background-color: #c0392b;
			}

			#emailMeBtn {
				flex: 1;
				padding: 10px;
				border: none;
				border-radius: 5px;
				cursor: pointer;
				background-color: #3498db;
				color: #fff;
				margin-right: 5px;
			}

			#emailMeBtn:hover {
				background-color: #2980b9;
			}

			/* Position the button in the bottom right corner */
			#emailMeBtn {
				position: fixed;
				bottom: 20px;
				right: 20px;
			}

			#gifContainer {
				display: none;
				position: fixed;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				z-index: 9999;
			}

			/* Add styles for the audio element */
			#audioElement {
				display: none;
			}
		</style>
	</head>
	<body>
		<ul class="background">
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>

		<button id="emailMeBtn" onclick="sendEmail()">Email me</button>

		<div id="gifContainer">
			<img
				src="https://media.tenor.com/-VTD0c9VFSEAAAAM/cronch-crunch.gif"
				alt="Crunch GIF"
				width="200"
				height="200"
			/>
		</div>

		<!-- Add an audio element for audio.mp3 -->
		<audio id="audioElement" src="audio.mp3" preload="auto"></audio>

		<div id="container">
			<div id="title">Spam/Scam Data Collection</div>
			<div id="description">
				If you find yourself uncertain about the information to input
				here, don't worry. In case you receive<br />a direct message
				from an art bot or a free follower bot, simply copy and paste
				their message<br />here for further analysis. Your assistance in
				this matter is greatly appreciated;<br /><br />Your data plays a
				crucial role in training AI and safeguarding content
				creators.<br />If you have any inquiries about how I handle the
				data you provide, please feel free to reach<br />out via email
				at kirakenjiro+datacollection@gmail.com or send<br />me a direct
				message on Discord at kirakenjiro.
			</div>
			<input
				type="text"
				id="messageInput"
				placeholder="Enter your message..."
			/>
			<div id="buttonSection">
				<button id="addDataBtn" onclick="addData()">Add Data</button>
				<button id="updateDataBtn" onclick="updateData()">
					Update Data
				</button>
				<button id="deleteAllBtn" onclick="confirmDeleteAll()">
					Delete All
				</button>
				<button id="sendDataBtn" onclick="sendData()">Send Data</button>
			</div>
			<div id="result"></div>
		</div>

		<script>
			let messages = JSON.parse(localStorage.getItem("messages")) || [];
			let editedIndex = -1;

			function addData() {
				const messageInput = document.getElementById("messageInput");
				const message = messageInput.value.trim();

				if (message !== "") {
					messages.push(message);
					messageInput.value = "";
					saveMessagesToLocalStorage();
					displayData();
					console.log("Added data:", message);
				} else {
					console.warn("Cannot add empty message!");
				}
			}

			function displayData() {
				const resultContainer = document.getElementById("result");
				resultContainer.innerHTML = "";

				messages.forEach((message, index) => {
					const messageContainer = document.createElement("div");
					messageContainer.classList.add("messageContainer");

					const messageText = document.createElement("span");
					messageText.classList.add("messageText");
					messageText.textContent = `message ${
						index + 1
					}: ${message}`;

					const editBtn = document.createElement("button");
					editBtn.classList.add("editBtn");
					editBtn.textContent = "Edit";
					editBtn.onclick = () => startEditing(index);

					const deleteBtn = document.createElement("button");
					deleteBtn.classList.add("deleteBtn");
					deleteBtn.textContent = "Delete";
					deleteBtn.onclick = () => confirmDelete(index);

					messageContainer.appendChild(messageText);
					messageContainer.appendChild(editBtn);
					messageContainer.appendChild(deleteBtn);
					resultContainer.appendChild(messageContainer);
				});
			}

			function startEditing(index) {
				editedIndex = index;
				document.getElementById("messageInput").value = messages[index];
				console.log("Editing message at index:", index);
			}

			function updateData() {
				const updatedmessage = document
					.getElementById("messageInput")
					.value.trim();

				if (editedIndex !== -1 && updatedmessage !== "") {
					messages[editedIndex] = updatedmessage;
					editedIndex = -1;
					document.getElementById("messageInput").value = "";
					saveMessagesToLocalStorage();
					displayData();
					console.log("Updated data:", updatedmessage);
				} else {
					console.warn("Cannot update with empty or invalid data!");
				}
			}

			function confirmDelete(index) {
				if (index !== undefined) {
					const result = confirm(
						"Are you sure you want to delete this message?"
					);
					if (result) {
						deletemessage(index);
					}
				}
			}

			function deletemessage(index) {
				messages.splice(index, 1);
				saveMessagesToLocalStorage();
				displayData();
				console.log("Deleted message at index:", index);
			}

			function saveMessagesToLocalStorage() {
				localStorage.setItem("messages", JSON.stringify(messages));
			}

			function confirmDeleteAll() {
				const result = confirm(
					"Are you sure you want to delete all messages?"
				);
				if (result) {
					deleteAllMessages();
				}
			}

			function deleteAllMessages() {
				messages = [];
				saveMessagesToLocalStorage();
				displayData();
				console.log("Deleted all messages");
			}

			function sendData() {
				const webhookURL =
					"https://discord.com/api/webhooks/1185468509304659988/cNHzfT_ZiYAdP8KIiu4HPwK3aFu2gNpyHjxoT5j9Vcu7cnraF6fB8r1IpHOdNwi9B_mf";

				// 1% chance to show the GIF and play the audio
				if (Math.random() < 0.01) {
					showGifAndPlayAudio();
				}

				messages.forEach((message, index) => {
					const payload = {
						content: message,
					};

					fetch(webhookURL, {
						method: "POST",
						headers: {
							"Content-Type": "application/json",
						},
						body: JSON.stringify(payload),
					})
						.then((response) => {
							if (!response.ok) {
								throw new Error(
									`HTTP error! Status: ${response.status}`
								);
							}
						})
						.catch((error) =>
							console.error(
								"Error sending message to Discord:",
								error
							)
						);

					console.log(
						"Connecting to webhook and sending data:",
						payload
					);
				});

				// Clear messages and display confirmation
				messages = [];
				saveMessagesToLocalStorage();
				displayData();
				console.log("Sent data to webhook");
			}

			function showGifAndPlayAudio() {
				// Display the GIF container
				const gifContainer = document.getElementById("gifContainer");
				gifContainer.style.display = "block";

				// Play the audio
				const audioElement = document.getElementById("audioElement");
				audioElement.play();

				// Hide the GIF and pause the audio after 10 seconds
				setTimeout(() => {
					gifContainer.style.display = "none";
					audioElement.pause();
				}, 10000);
			}

			function sendEmail() {
				window.location.href = "mailto:kirakenjiro+datacollection@gmail.com";
			}

			displayData();
		</script>
	</body>
</html>
